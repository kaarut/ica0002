domain: lads
zone: io
fqdn: lads.io
reverse_fqdn: 42.168.192.in-addr.arpa
nginx_container_per_vm: 2

#BIND
localnetwork: 192.168.42.0/24
docker_network: 172.17.0.0/16
localhost: 127.0.0.0/8
localhost_address: 127.0.0.1
email: kaarut.ttu.ee

# PROMETHEUS
prometheus_host: "{{ groups['prometheus'][0] }}"
prometheus_port: 9090

# INFLUX_DB
influxdb_host: "{{ groups['influxdb_servers'][0] }}"
# infuxdb_port: 8086

# LOGGING
rsyslog_host: vm2

# GRAFANA
grafana_host: "{{ groups['grafana_servers'][0] }}"
grafana_port: 3002

# Agama
docker_agama_port: 8001
agama_port: 8000

# MYSQL 
mysql_host: vm1
# mysql_host: "{{ hostvars['vm1']['ansible_default_ipv4']['address'] }}"
mysql_master: vm1
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63616332653935376364363937343762626265356366663839336665346565323363316165643661
          3864376661346463633439623965386339353431616630650a616638386166323264333864393831
          64346164313763336362383566333037306335666135393537326332306135313632663761313962
          3262393634306639610a326533633134316636336237376632653765316335656661373963626634
          3963
node_id: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'].split('.')[-1] }}"
mysql_replication_user: replication

forwarders:
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9
  - 9.9.9.10

mysql_exporter: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39343361643630383131633863393165623364313833333737663965346431613230656635343661
          3337626563656532313664643936353766383832326235630a353331306364306165656230636537
          37356535646565323466306237643165333938353565636638643836616162313737333765666230
          3736643734366363320a653137356338623131343736343134326538643130346561336139653538
          6530

grafana_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30396435623337666236336462633932613630363931626433323632356662626633363032383636
          3832663239656464666333623062353631626131633462660a373439393234343732373266326663
          33323037386434353534643361383465343430656332363061653036616339333761326163386361
          3466393064653637330a386138633036626632653738373836383030313034396131613232353366
          3031

backup_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30396435623337666236336462633932613630363931626433323632356662626633363032383636
          3832663239656464666333623062353631626131633462660a373439393234343732373266326663
          33323037386434353534643361383465343430656332363061653036616339333761326163386361
          3466393064653637330a386138633036626632653738373836383030313034396131613232353366
          3031

replication_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63616332653935376364363937343762626265356366663839336665346565323363316165643661
          3864376661346463633439623965386339353431616630650a616638386166323264333864393831
          64346164313763336362383566333037306335666135393537326332306135313632663761313962
          3262393634306639610a326533633134316636336237376632653765316335656661373963626634
          3963
          
          
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBSne71MCp6CQCHURWe3CLud6vPDkLfL83Oab/giAI7O
          
prometheus_exporters:
  node:
    port: 9100
  
  nginx: 
    port: 9113
  
  bind9:
    port: 9119

  mysql:
    port: 9104
  
  influxdb:
    port: 9424

prometheus_jobs:
  - name: nodes
    port: 9100
    targets: "{{ groups['nodes'] }}"

  - name: bind9
    port: 9119
    targets: "{{ groups['dns_servers'] }}"

  - name: nginx
    port: 9113
    targets: "{{ groups['web_servers'] }}"

  - name: mysql
    port: 9104
    targets: "{{ groups['db_servers'] }}"

  - name: influxdb
    port: 9424
    targets: "{{ groups['influxdb_servers'] }}"

  - name: haproxy
    port: 9101
    targets: "{{ groups['haproxy'] }}"

  - name: keepalived
    port: 9165
    targets: "{{ groups['haproxy'] }}"

#DNS
dns_a_records:
  backup: 192.168.42.156
  mikk: 192.1.1.1

dns_cname_records:
  grafana: "{{ groups['grafana_servers'][0] }}"
  influxdb: "{{ groups['influxdb_servers'][0] }}"
  1b1: "{{ groups['haproxy'][0] }}"
  1b2: "{{ groups['haproxy'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
  web2: "{{ groups['web_servers'][1] }}"

dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35326230303266333635336433343737653363323064313734626664303730333034306461366363
          3237666664356139373938633166393537643563343966390a313133393437663463383331643633
          31616534613335333937383133633337356662363837323062353966363931663862356531643139
          3034303863303236390a343432346137323034633736353364373730636663366630626135633633
          66643263346639393838363033336463333531663036626636383062343964613364383931303333
          6661386263313131623563336638323837653131353861356663

dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39666163326137336461343661353261623464303263343036663738396564393763366562393037
          6337613632383137653730376438376262626332653737630a343535383035393438333535626366
          36666335653235383466613465336334383936383163623236326235303438623535343132623032
          3266356162313637380a646331633135616536333961356239376666653538646432303537616662
          30346636393361393162613536323133383863623863353034356232323166626166626164613131
          3463303037313864646438303536633334616338326135333733
